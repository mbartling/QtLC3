<!DOCTYPE html>
<html>
<body>
  <h1>TRAP</h1>
  <p>System Call</p>

  <h2>Assembler Formats</h2>
  <p>TRAP trapvector8</p>
  <h2>Encodings</h2>
<a href="http://res.cloudinary.com/de9kbeo0h/image/upload/v1434225502/TRAP_encoding_gdv4lr.png">Check Here</a>
  <h2>Operation</h2>
  <pre>
    <code>
      R7 = PC*;
      PC = mem[ZEXT(trapvector8)];
    </code>
  </pre>

  <h2>Description</h2>
  <p>
   First R7 is loaded with the incremented PC. (This enables a return to the instruction physically following the TRAP instruction in the original program after the service routine has completed execution.) Then the PC is loaded with the starting address of the system call specified by trapvector8. The starting address is contained in the memory location whose address is obtained by zero-extending trapvector8 to 16 bits.
  </p>
  <h2>Examples</h2>
  <pre>
    <code>
      TRAP x23    ; Directs the operating system to execute the IN system call.
                  ; The starting address of this system call is contained in
                  ; memory location x0023.

    </code>
  </pre>
  <h2>Note</h2>
  <p>
    Memory locations x0000 through x00FF, 256 in all, are available to contain starting addresses for system calls specified by their corresponding trap vectors. This region of memory is called the Trap Vector Table. Table A.2 describes the functions performed by the service routines corresponding to trap vectors x20 to x25.
  </p>
<hr>
</body>
<footer>
  <p>PC*: This is the incremented PC</p>
</footer>
</html>
